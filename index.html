<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº’è”ç½‘åŠ¨ç‰©äººæ ¼æµ‹è¯•</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', 'PingFang SC', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            overflow: hidden;
        }

        .container {
            text-align: center;
            position: relative;
        }

        .title {
            color: white;
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .subtitle {
            color: rgba(255, 255, 255, 0.9);
            font-size: 16px;
            margin-bottom: 50px;
        }

        .circle-container {
            position: relative;
            width: 250px;
            height: 250px;
            margin: 0 auto;
            cursor: pointer;
            user-select: none;
        }

        .circle {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 200px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 18px;
            font-weight: bold;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transition: transform 0.2s ease;
        }

        .circle:active {
            transform: translate(-50%, -50%) scale(0.95);
        }

        .circle-text {
            font-size: 20px;
            margin-bottom: 10px;
        }

        .circle-hint {
            font-size: 14px;
            opacity: 0.9;
        }

        /* è„‰å†²åŠ¨æ•ˆ */
        .pulse-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            height: 200px;
            border-radius: 50%;
            border: 3px solid rgba(255, 255, 255, 0.6);
            opacity: 0;
        }

        .pulsing .pulse-ring {
            animation: pulse 3s ease-out;
        }

        @keyframes pulse {
            0% {
                width: 200px;
                height: 200px;
                opacity: 0.8;
            }
            100% {
                width: 300px;
                height: 300px;
                opacity: 0;
            }
        }

        /* è¿›åº¦ç¯ */
        .progress-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-90deg);
            width: 220px;
            height: 220px;
        }

        .progress-ring-circle {
            fill: none;
            stroke: rgba(255, 255, 255, 0.8);
            stroke-width: 4;
            stroke-dasharray: 691.15; /* 2 * Ï€ * 110 */
            stroke-dashoffset: 691.15;
            transition: stroke-dashoffset 0.1s linear;
        }

        /* ç»“æœå±•ç¤º */
        .result-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: fadeIn 0.5s ease;
        }

        .result-container.show {
            display: flex;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .result-card {
            background: white;
            border-radius: 20px;
            padding: 50px 40px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            animation: slideUp 0.5s ease;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        @keyframes slideUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .result-emoji {
            font-size: 80px;
            margin-bottom: 20px;
        }

        .result-title {
            font-size: 32px;
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
        }

        .result-arrow {
            font-size: 24px;
            color: #667eea;
            margin: 15px 0;
        }

        .result-description {
            font-size: 24px;
            color: #f5576c;
            font-weight: bold;
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .result-detail {
            font-size: 16px;
            color: #666;
            line-height: 1.8;
            margin-bottom: 30px;
        }

        .retry-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            font-weight: bold;
        }

        .retry-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
        }

        .retry-button:active {
            transform: translateY(0);
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 600px) {
            .title {
                font-size: 24px;
            }

            .circle {
                width: 180px;
                height: 180px;
            }

            .pulse-ring {
                width: 180px;
                height: 180px;
            }

            .progress-ring {
                width: 200px;
                height: 200px;
            }

            .result-card {
                padding: 40px 30px;
            }

            .result-title {
                font-size: 26px;
            }

            .result-description {
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">äº’è”ç½‘åŠ¨ç‰©äººæ ¼æµ‹è¯•</h1>
        <p class="subtitle">é•¿æŒ‰ä¸­å¤®åœ†å½¢åŒºåŸŸ3ç§’ï¼Œå‘ç°ä½ çš„äº’è”ç½‘äººæ ¼</p>
        
        <div class="circle-container" id="circleContainer">
            <svg class="progress-ring" id="progressRing">
                <circle class="progress-ring-circle" cx="110" cy="110" r="110"></circle>
            </svg>
            <div class="pulse-ring" id="pulseRing1"></div>
            <div class="pulse-ring" id="pulseRing2"></div>
            <div class="pulse-ring" id="pulseRing3"></div>
            <div class="circle" id="circle">
                <div class="circle-text">é•¿æŒ‰æˆ‘</div>
                <div class="circle-hint">å‘ç°ä½ çš„äººæ ¼</div>
            </div>
        </div>
    </div>

    <div class="result-container" id="resultContainer">
        <div class="result-card">
            <div class="result-emoji" id="resultEmoji">ğŸ§</div>
            <div class="result-title" id="resultTitle">ç¤¾æä¼é¹…</div>
            <div class="result-arrow">â†“</div>
            <div class="result-description" id="resultDescription">"çº¿ä¸‹å“‘å·´Â·çº¿ä¸Šè¯ç—¨"</div>
            <div class="result-detail" id="resultDetail">
                ç°å®ä¸­çš„ä½ æ²‰é»˜å¯¡è¨€ï¼Œèƒ½ä¸è¯´è¯å°±ä¸è¯´è¯ã€‚ä½†ä¸€åˆ°ç½‘ä¸Šï¼Œé”®ç›˜ä¾ æ¨¡å¼ç¬é—´å¼€å¯ï¼Œè¡¨æƒ…åŒ…æ–—å›¾ã€æ·±å¤œé•¿ç¯‡å¤§è®ºï¼Œç®€ç›´åˆ¤è‹¥ä¸¤äººï¼
            </div>
            <button class="retry-button" onclick="resetTest()">å†æµ‹ä¸€æ¬¡</button>
        </div>
    </div>

    <script>
        // åŠ¨ç‰©äººæ ¼æ•°æ®åº“
        const personalities = [
            {
                emoji: 'ğŸ§',
                title: 'ç¤¾æä¼é¹…',
                description: '"çº¿ä¸‹å“‘å·´Â·çº¿ä¸Šè¯ç—¨"',
                detail: 'ç°å®ä¸­çš„ä½ æ²‰é»˜å¯¡è¨€ï¼Œèƒ½ä¸è¯´è¯å°±ä¸è¯´è¯ã€‚ä½†ä¸€åˆ°ç½‘ä¸Šï¼Œé”®ç›˜ä¾ æ¨¡å¼ç¬é—´å¼€å¯ï¼Œè¡¨æƒ…åŒ…æ–—å›¾ã€æ·±å¤œé•¿ç¯‡å¤§è®ºï¼Œç®€ç›´åˆ¤è‹¥ä¸¤äººï¼'
            },
            {
                emoji: 'ğŸ¦¥',
                title: 'æ‘†çƒ‚æ ‘æ‡’',
                description: '"èƒ½èººç€ç»ä¸åç€"',
                detail: 'ä½ çš„äººç”Ÿä¿¡æ¡å°±æ˜¯ï¼šä»Šå¤©èƒ½æ‹–åˆ°æ˜å¤©çš„äº‹ï¼Œä¸ºä»€ä¹ˆè¦ä»Šå¤©åšï¼Ÿå·¥ä½œæ‘¸é±¼ã€ç”Ÿæ´»èººå¹³ï¼Œä½†å†…å¿ƒæˆå´æ¯”è°éƒ½ä¸°å¯Œã€‚'
            },
            {
                emoji: 'ğŸ¦Š',
                title: 'ç²¾æ˜ç‹ç‹¸',
                description: '"è¡¨é¢æ†¨æ†¨Â·å®åˆ™ç²¾æ˜"',
                detail: 'çœ‹èµ·æ¥äººç•œæ— å®³ï¼Œå®é™…ä¸Šå¿ƒé‡Œé—¨å„¿æ¸…ã€‚è¯¥è£…å‚»æ—¶è£…å‚»ï¼Œè¯¥ç²¾æ˜æ—¶ç²¾æ˜ï¼Œæ¸¸èµ°åœ¨å„ä¸ªç¾¤èŠä¹‹é—´å¦‚é±¼å¾—æ°´ã€‚'
            },
            {
                emoji: 'ğŸ±',
                title: 'é«˜å†·çŒ«å’ª',
                description: '"çˆ±ç­”ä¸ç†Â·å‚²å¨‡æœ¬å¨‡"',
                detail: 'æ¶ˆæ¯çˆ±å›ä¸å›ï¼Œçº¦é¥­çœ‹å¿ƒæƒ…ã€‚ä½†å…¶å®å†…å¿ƒæˆå¾ˆè¶³ï¼Œåªæ˜¯æ‡’å¾—è¡¨è¾¾ã€‚å¶å°”çš„ä¸»åŠ¨è”ç³»ï¼Œé‚£æ˜¯çœŸçš„æŠŠä½ å½“è‡ªå·±äººäº†ã€‚'
            },
            {
                emoji: 'ğŸ¶',
                title: 'çƒ­æƒ…å“ˆå£«å¥‡',
                description: '"ç¤¾äº¤ç‰›é€¼ç—‡æ‚£è€…"',
                detail: 'è§è°éƒ½è‡ªæ¥ç†Ÿï¼Œç¾¤èŠæ°›å›´æ‹…å½“ã€‚è™½ç„¶å¶å°”ä¼šçŠ¯äºŒï¼Œä½†çœŸè¯šçƒ­æƒ…çš„ä½ æ€»èƒ½ç»™å¤§å®¶å¸¦æ¥æ¬¢ä¹ã€‚'
            },
            {
                emoji: 'ğŸ¦‰',
                title: 'å¤œçŒ«å­çŒ«å¤´é¹°',
                description: '"ç™½å¤©åºŸç‰©Â·æ·±å¤œæš´èº"',
                detail: 'ç™½å¤©æµ‘æµ‘å™©å™©ï¼Œä¸€åˆ°æ™šä¸Šç²¾ç¥ç™¾å€ã€‚å‡Œæ™¨ä¸‰ç‚¹è¿˜åœ¨åˆ·æ‰‹æœºï¼Œæ—©ä¸Šå…«ç‚¹èµ·ä¸æ¥åºŠã€‚ä½ çš„ç”Ÿç‰©é’Ÿå’Œå…¨ä¸–ç•Œéƒ½ä¸ä¸€æ ·ã€‚'
            },
            {
                emoji: 'ğŸ¹',
                title: 'å›¤ç§¯ä»“é¼ ',
                description: '"æ”¶è—ä»æœªåœæ­¢Â·æ‰“å¼€ä»æœªå¼€å§‹"',
                detail: 'è´­ç‰©è½¦æ°¸è¿œæ˜¯æ»¡çš„ï¼Œæ”¶è—å¤¹å¡å¾—æ»¡æ»¡å½“å½“ã€‚å„ç§æ•™ç¨‹ã€æ”»ç•¥ã€å¥½ç‰©æ¨èç»Ÿç»Ÿæ”¶è—ï¼Œä½†å°±æ˜¯ä»æ¥ä¸çœ‹ã€‚'
            },
            {
                emoji: 'ğŸ¦†',
                title: 'åƒç“œé¸­é¸­',
                description: '"ä¸€çº¿åƒç“œÂ·ä»ä¸ç¼ºå¸­"',
                detail: 'äº’è”ç½‘å…«å¦ç¬¬ä¸€æ—¶é—´åˆ°è¾¾ç°åœºï¼Œå„è·¯ç“œç”°å‹¤åŠ³è€•è€˜ã€‚è™½ç„¶è‡ªå·±ç”Ÿæ´»å¹³æ·¡ï¼Œä½†åˆ«äººçš„æ•…äº‹ä½ æ¯”å½“äº‹äººè¿˜æ¸…æ¥šã€‚'
            }
        ];

        let pressTimer = null;
        let startTime = 0;
        let isPressed = false;
        const PRESS_DURATION = 3000; // 3ç§’

        const circleContainer = document.getElementById('circleContainer');
        const circle = document.getElementById('circle');
        const progressRing = document.getElementById('progressRing');
        const progressCircle = progressRing.querySelector('.progress-ring-circle');
        const pulseRings = [
            document.getElementById('pulseRing1'),
            document.getElementById('pulseRing2'),
            document.getElementById('pulseRing3')
        ];
        const resultContainer = document.getElementById('resultContainer');

        const circumference = 2 * Math.PI * 110;
        progressCircle.style.strokeDasharray = circumference;
        progressCircle.style.strokeDashoffset = circumference;

        // å¼€å§‹é•¿æŒ‰
        function startPress(e) {
            e.preventDefault();
            if (isPressed) return;
            
            isPressed = true;
            startTime = Date.now();
            
            // æ·»åŠ è„‰å†²åŠ¨æ•ˆ
            circleContainer.classList.add('pulsing');
            
            // å¼€å§‹è¿›åº¦åŠ¨ç”»
            pressTimer = setInterval(updateProgress, 50);
            
            // å¯åŠ¨è„‰å†²ç¯åŠ¨ç”»
            startPulseAnimation();
        }

        // æ›´æ–°è¿›åº¦
        function updateProgress() {
            const elapsed = Date.now() - startTime;
            const progress = Math.min(elapsed / PRESS_DURATION, 1);
            
            const offset = circumference - (progress * circumference);
            progressCircle.style.strokeDashoffset = offset;
            
            if (progress >= 1) {
                completePress();
            }
        }

        // è„‰å†²åŠ¨ç”»
        function startPulseAnimation() {
            pulseRings.forEach((ring, index) => {
                setTimeout(() => {
                    ring.style.animation = 'pulse 1s ease-out infinite';
                }, index * 300);
            });
        }

        // åœæ­¢è„‰å†²åŠ¨ç”»
        function stopPulseAnimation() {
            pulseRings.forEach(ring => {
                ring.style.animation = 'none';
            });
        }

        // ç»“æŸé•¿æŒ‰
        function endPress(e) {
            e.preventDefault();
            if (!isPressed) return;
            
            const elapsed = Date.now() - startTime;
            
            if (elapsed < PRESS_DURATION) {
                // æœªå®Œæˆï¼Œé‡ç½®
                resetProgress();
            }
            
            isPressed = false;
        }

        // å®Œæˆé•¿æŒ‰
        function completePress() {
            clearInterval(pressTimer);
            isPressed = false;
            
            // åœæ­¢åŠ¨ç”»
            circleContainer.classList.remove('pulsing');
            stopPulseAnimation();
            
            // æ˜¾ç¤ºç»“æœ
            setTimeout(() => {
                showResult();
            }, 300);
        }

        // é‡ç½®è¿›åº¦
        function resetProgress() {
            clearInterval(pressTimer);
            circleContainer.classList.remove('pulsing');
            stopPulseAnimation();
            progressCircle.style.strokeDashoffset = circumference;
            isPressed = false;
        }

        // æ˜¾ç¤ºç»“æœ
        function showResult() {
            // éšæœºé€‰æ‹©ä¸€ä¸ªäººæ ¼
            const personality = personalities[Math.floor(Math.random() * personalities.length)];
            
            document.getElementById('resultEmoji').textContent = personality.emoji;
            document.getElementById('resultTitle').textContent = personality.title;
            document.getElementById('resultDescription').textContent = personality.description;
            document.getElementById('resultDetail').textContent = personality.detail;
            
            resultContainer.classList.add('show');
        }

        // é‡æ–°æµ‹è¯•
        function resetTest() {
            resultContainer.classList.remove('show');
            resetProgress();
        }

        // äº‹ä»¶ç›‘å¬
        // é¼ æ ‡äº‹ä»¶
        circleContainer.addEventListener('mousedown', startPress);
        circleContainer.addEventListener('mouseup', endPress);
        circleContainer.addEventListener('mouseleave', endPress);

        // è§¦æ‘¸äº‹ä»¶ï¼ˆç§»åŠ¨ç«¯ï¼‰
        circleContainer.addEventListener('touchstart', startPress);
        circleContainer.addEventListener('touchend', endPress);
        circleContainer.addEventListener('touchcancel', endPress);

        // é˜²æ­¢æ‹–æ‹½
        circleContainer.addEventListener('dragstart', (e) => e.preventDefault());
    </script>
</body>
</html>